(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))c(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&c(i)}).observe(document,{childList:!0,subtree:!0});function a(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function c(o){if(o.ep)return;o.ep=!0;const n=a(o);fetch(o.href,n)}})();document.addEventListener("DOMContentLoaded",()=>{const d=new Lenis({duration:1.2,easing:e=>Math.min(1,1.001-Math.pow(2,-10*e)),smooth:!0,touchMultiplier:2});function s(e){d.raf(e),requestAnimationFrame(s)}requestAnimationFrame(s);const a=document.querySelector(".header"),c=document.querySelector(".header__burger"),o=document.querySelector(".mobile-menu"),n=document.querySelector(".mobile-menu__links");let i=!1;d.on("scroll",({scroll:e})=>{e>50?(a.style.background="rgba(31, 46, 37, 0.95)",a.style.backdropFilter="blur(15px)"):(a.style.background="rgba(46, 64, 53, 0.7)",a.style.backdropFilter="blur(12px)")}),document.querySelectorAll(".header__menu a").forEach(e=>{const t=document.createElement("a");t.href=e.href,t.textContent=e.textContent,t.className="mobile-menu__link",t.addEventListener("click",()=>M(!1)),n.appendChild(t)});function M(e){e!==i&&(i=e,e?(c.classList.add("is-active"),o.classList.add("is-active"),d.stop(),gsap.to(".mobile-menu__link",{y:0,opacity:1,duration:.5,stagger:.1,delay:.2})):(c.classList.remove("is-active"),o.classList.remove("is-active"),d.start(),gsap.to(".mobile-menu__link",{y:20,opacity:0,duration:.3})))}c.addEventListener("click",()=>M(!i));const u=document.getElementById("hero-canvas");if(u){let b=function(){t=u.width=window.innerWidth,l=u.height=window.innerHeight},v=function(){e.clearRect(0,0,t,l),g.forEach((r,B)=>{r.update(),r.draw();for(let x=B+1;x<g.length;x++){const p=g[x],q=r.x-p.x,S=r.y-p.y,_=Math.sqrt(q*q+S*S);_<I&&(e.beginPath(),e.strokeStyle=`rgba(204, 255, 0, ${1-_/I})`,e.lineWidth=.5,e.moveTo(r.x,r.y),e.lineTo(p.x,p.y),e.stroke())}}),requestAnimationFrame(v)};var O=b,F=v;const e=u.getContext("2d");let t,l,g=[];const T=window.innerWidth<768?30:60,I=150,C=.5;window.addEventListener("resize",b),b();class A{constructor(){this.x=Math.random()*t,this.y=Math.random()*l,this.vx=(Math.random()-.5)*C,this.vy=(Math.random()-.5)*C,this.size=Math.random()*2+1}update(){this.x+=this.vx,this.y+=this.vy,(this.x<0||this.x>t)&&(this.vx*=-1),(this.y<0||this.y>l)&&(this.vy*=-1)}draw(){e.beginPath(),e.arc(this.x,this.y,this.size,0,Math.PI*2),e.fillStyle="rgba(204, 255, 0, 0.6)",e.fill()}}for(let r=0;r<T;r++)g.push(new A);v()}gsap.registerPlugin(ScrollTrigger),gsap.utils.toArray(".fade-up").forEach(e=>{gsap.from(e,{scrollTrigger:{trigger:e,start:"top 85%"},y:50,opacity:0,duration:1,ease:"power3.out"})}),gsap.from(".fade-right",{scrollTrigger:{trigger:".split-layout",start:"top 80%"},x:-50,opacity:0,duration:1}),gsap.from(".fade-left",{scrollTrigger:{trigger:".split-layout",start:"top 80%"},x:50,opacity:0,duration:1,delay:.2});const m=document.getElementById("main-form"),E=document.getElementById("phone"),L=document.getElementById("phone-error"),y=document.getElementById("captcha-question"),P=document.getElementById("captcha-answer");let h=Math.floor(Math.random()*10)+1,f=Math.floor(Math.random()*10)+1;y&&(y.textContent=`${h} + ${f} = ?`),E&&E.addEventListener("input",e=>{const t=e.target.value;/[^0-9+]/.test(t)?(L.style.display="block",e.target.value=t.replace(/[^0-9+]/g,"")):L.style.display="none"}),m&&m.addEventListener("submit",e=>{if(e.preventDefault(),parseInt(P.value)!==h+f){alert("Неверное решение примера!");return}const t=m.querySelector("button"),l=t.textContent;t.textContent="Отправка...",t.disabled=!0,setTimeout(()=>{t.textContent="Успешно!",t.style.background="#27c93f",t.style.color="#fff",m.reset(),h=Math.floor(Math.random()*10)+1,f=Math.floor(Math.random()*10)+1,y.textContent=`${h} + ${f} = ?`,setTimeout(()=>{t.textContent=l,t.disabled=!1,t.style.background="",t.style.color=""},3e3)},1500)});const w=document.getElementById("cookie-popup"),k=document.getElementById("accept-cookies");localStorage.getItem("cookiesAccepted")||setTimeout(()=>{w.classList.add("show")},2e3),k&&k.addEventListener("click",()=>{localStorage.setItem("cookiesAccepted","true"),w.classList.remove("show")})});
//# sourceMappingURL=main-aSYPCuh8.js.map
