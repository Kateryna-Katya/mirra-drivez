{"version":3,"file":"main-aSYPCuh8.js","sources":["../../src/main.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n    \n    // --- 1. CORE: Smooth Scroll (Lenis) ---\n    const lenis = new Lenis({\n        duration: 1.2,\n        easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),\n        smooth: true,\n        touchMultiplier: 2,\n    });\n    function raf(time) {\n        lenis.raf(time);\n        requestAnimationFrame(raf);\n    }\n    requestAnimationFrame(raf);\n\n    // --- 2. UI: Header & Menu ---\n    const header = document.querySelector('.header');\n    const burger = document.querySelector('.header__burger');\n    const mobileMenu = document.querySelector('.mobile-menu');\n    const mobileLinksContainer = document.querySelector('.mobile-menu__links');\n    let isMenuOpen = false;\n\n    // Header Blur on Scroll\n    lenis.on('scroll', ({ scroll }) => {\n        if (scroll > 50) {\n            header.style.background = 'rgba(31, 46, 37, 0.95)';\n            header.style.backdropFilter = 'blur(15px)';\n        } else {\n            header.style.background = 'rgba(46, 64, 53, 0.7)';\n            header.style.backdropFilter = 'blur(12px)';\n        }\n    });\n\n    // Mobile Menu Logic\n    document.querySelectorAll('.header__menu a').forEach(link => {\n        const clone = document.createElement('a');\n        clone.href = link.href;\n        clone.textContent = link.textContent;\n        clone.className = 'mobile-menu__link';\n        clone.addEventListener('click', () => toggleMenu(false));\n        mobileLinksContainer.appendChild(clone);\n    });\n\n    function toggleMenu(open) {\n        if (open === isMenuOpen) return;\n        isMenuOpen = open;\n        if (open) {\n            burger.classList.add('is-active');\n            mobileMenu.classList.add('is-active');\n            lenis.stop();\n            gsap.to('.mobile-menu__link', { y: 0, opacity: 1, duration: 0.5, stagger: 0.1, delay: 0.2 });\n        } else {\n            burger.classList.remove('is-active');\n            mobileMenu.classList.remove('is-active');\n            lenis.start();\n            gsap.to('.mobile-menu__link', { y: 20, opacity: 0, duration: 0.3 });\n        }\n    }\n    burger.addEventListener('click', () => toggleMenu(!isMenuOpen));\n\n    // --- 3. VISUAL: Canvas Neural Network Animation (Hero) ---\n    const canvas = document.getElementById('hero-canvas');\n    if (canvas) {\n        const ctx = canvas.getContext('2d');\n        let width, height;\n        let particles = [];\n        \n        // Настройки\n        const particleCount = window.innerWidth < 768 ? 30 : 60;\n        const connectionDistance = 150;\n        const speed = 0.5;\n\n        function resize() {\n            width = canvas.width = window.innerWidth;\n            height = canvas.height = window.innerHeight;\n        }\n        window.addEventListener('resize', resize);\n        resize();\n\n        class Particle {\n            constructor() {\n                this.x = Math.random() * width;\n                this.y = Math.random() * height;\n                this.vx = (Math.random() - 0.5) * speed;\n                this.vy = (Math.random() - 0.5) * speed;\n                this.size = Math.random() * 2 + 1;\n            }\n            update() {\n                this.x += this.vx;\n                this.y += this.vy;\n                if (this.x < 0 || this.x > width) this.vx *= -1;\n                if (this.y < 0 || this.y > height) this.vy *= -1;\n            }\n            draw() {\n                ctx.beginPath();\n                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);\n                ctx.fillStyle = 'rgba(204, 255, 0, 0.6)'; // Accent color\n                ctx.fill();\n            }\n        }\n\n        for (let i = 0; i < particleCount; i++) particles.push(new Particle());\n\n        function animateCanvas() {\n            ctx.clearRect(0, 0, width, height);\n            \n            // Обновляем и рисуем частицы\n            particles.forEach((p, index) => {\n                p.update();\n                p.draw();\n                \n                // Рисуем связи\n                for (let j = index + 1; j < particles.length; j++) {\n                    const p2 = particles[j];\n                    const dx = p.x - p2.x;\n                    const dy = p.y - p2.y;\n                    const dist = Math.sqrt(dx * dx + dy * dy);\n\n                    if (dist < connectionDistance) {\n                        ctx.beginPath();\n                        ctx.strokeStyle = `rgba(204, 255, 0, ${1 - dist / connectionDistance})`;\n                        ctx.lineWidth = 0.5;\n                        ctx.moveTo(p.x, p.y);\n                        ctx.lineTo(p2.x, p2.y);\n                        ctx.stroke();\n                    }\n                }\n            });\n            requestAnimationFrame(animateCanvas);\n        }\n        animateCanvas();\n    }\n\n    // --- 4. ANIMATION: GSAP ScrollTrigger ---\n    gsap.registerPlugin(ScrollTrigger);\n\n    // Fade Up Elements\n    gsap.utils.toArray('.fade-up').forEach(elem => {\n        gsap.from(elem, {\n            scrollTrigger: {\n                trigger: elem,\n                start: \"top 85%\",\n            },\n            y: 50,\n            opacity: 0,\n            duration: 1,\n            ease: \"power3.out\"\n        });\n    });\n\n    // Side Fades\n    gsap.from('.fade-right', {\n        scrollTrigger: { trigger: '.split-layout', start: \"top 80%\" },\n        x: -50, opacity: 0, duration: 1\n    });\n    gsap.from('.fade-left', {\n        scrollTrigger: { trigger: '.split-layout', start: \"top 80%\" },\n        x: 50, opacity: 0, duration: 1, delay: 0.2\n    });\n\n    // --- 5. LOGIC: Form Validation & Captcha ---\n    const form = document.getElementById('main-form');\n    const phoneInput = document.getElementById('phone');\n    const phoneError = document.getElementById('phone-error');\n    const captchaQ = document.getElementById('captcha-question');\n    const captchaA = document.getElementById('captcha-answer');\n    \n    // Генерируем капчу\n    let n1 = Math.floor(Math.random() * 10) + 1;\n    let n2 = Math.floor(Math.random() * 10) + 1;\n    if(captchaQ) captchaQ.textContent = `${n1} + ${n2} = ?`;\n\n    // Валидация телефона (только цифры)\n    if(phoneInput) {\n        phoneInput.addEventListener('input', (e) => {\n            const val = e.target.value;\n            if (/[^0-9+]/.test(val)) {\n                phoneError.style.display = 'block';\n                e.target.value = val.replace(/[^0-9+]/g, '');\n            } else {\n                phoneError.style.display = 'none';\n            }\n        });\n    }\n\n    if(form) {\n        form.addEventListener('submit', (e) => {\n            e.preventDefault();\n            \n            // Проверка капчи\n            if (parseInt(captchaA.value) !== n1 + n2) {\n                alert('Неверное решение примера!');\n                return;\n            }\n\n            // Имитация отправки\n            const btn = form.querySelector('button');\n            const originalText = btn.textContent;\n            btn.textContent = 'Отправка...';\n            btn.disabled = true;\n\n            setTimeout(() => {\n                btn.textContent = 'Успешно!';\n                btn.style.background = '#27c93f';\n                btn.style.color = '#fff';\n                form.reset();\n                \n                // Генерируем новую капчу\n                n1 = Math.floor(Math.random() * 10) + 1;\n                n2 = Math.floor(Math.random() * 10) + 1;\n                captchaQ.textContent = `${n1} + ${n2} = ?`;\n\n                setTimeout(() => {\n                    btn.textContent = originalText;\n                    btn.disabled = false;\n                    btn.style.background = '';\n                    btn.style.color = '';\n                }, 3000);\n            }, 1500);\n        });\n    }\n\n    // --- 6. LOGIC: Cookie Popup ---\n    const cookiePopup = document.getElementById('cookie-popup');\n    const acceptBtn = document.getElementById('accept-cookies');\n\n    if (!localStorage.getItem('cookiesAccepted')) {\n        setTimeout(() => {\n            cookiePopup.classList.add('show');\n        }, 2000);\n    }\n\n    if(acceptBtn) {\n        acceptBtn.addEventListener('click', () => {\n            localStorage.setItem('cookiesAccepted', 'true');\n            cookiePopup.classList.remove('show');\n        });\n    }\n});"],"names":["lenis","t","raf","time","header","burger","mobileMenu","mobileLinksContainer","isMenuOpen","scroll","link","clone","toggleMenu","open","canvas","resize","width","height","animateCanvas","ctx","particles","p","index","j","p2","dx","dy","dist","connectionDistance","particleCount","speed","Particle","i","elem","form","phoneInput","phoneError","captchaQ","captchaA","n1","n2","val","btn","originalText","cookiePopup","acceptBtn"],"mappings":"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"}